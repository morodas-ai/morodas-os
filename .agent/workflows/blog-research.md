---
description: ブログ記事リサーチ＆生成 - RAG + 外部ソースを合成してオリジナル記事を書く
---
// turbo-all

# ブログリサーチ＆記事生成ワークフロー

このワークフローは、RAG（ojiki-knowledge-base）と外部ソース（Reddit/HN/arXiv/Dev.to）から情報を収集・合成し、10,000字のオリジナルブログ記事を生成する。

参照プロンプト: `ai-factory/prompts/prompt_5_blog_research_pipeline.md`

---

## Phase 0: 仮説設定

ユーザーに以下を確認する（不明な場合はこちらで提案）:

1. **テーマ**: 何について書くか（例: Chrome MCP Server）
2. **仮説**: この記事で何を主張したいか（例: MCPがレガシーシステムのDXを加速する）
3. **ターゲット読者**: 誰に向けて書くか（デフォルト: AI導入を検討している企業の経営者・現場リーダー）
4. **トーン**: 論理的・明快・実践的（デフォルト）

ユーザーの回答を待ってから次に進む。テーマだけ提示された場合は、他の項目はデフォルトを適用して進む。

---

## Phase 1a: RAG検索（自前ナレッジ）

// turbo
1. RAGで関連記事を検索する:
```bash
cd /Users/kazuaki/俺の魂/morodas-os-init && npx tsx scripts/search-rag.ts search "{{テーマ}}" --max 5
```

// turbo
2. RAGで生成回答を取得する:
```bash
cd /Users/kazuaki/俺の魂/morodas-os-init && npx tsx scripts/search-rag.ts ask "{{テーマ}}について、ユニコはどのような視点で書いているか？"
```

3. 取得したJSONを内部に保持する（ファイル出力不要）。

---

## Phase 1b: 外部ソース取得

// turbo
4. 全外部ソースから情報を一括取得する:
```bash
cd /Users/kazuaki/俺の魂/morodas-os-init && npx tsx scripts/fetch-external.ts "{{テーマ}}"
```

5. 取得したJSONを内部に保持する。

---

## Phase 2: 分析・合成

6. Phase 1a（RAG）と Phase 1b（外部）のデータを以下の3つのレンズで分析する:

### レンズ1: コンセンサス vs ディスクレパンシー
- RAG（ユニコの視点）と外部ソース（世間の声）で **一致している点** は何か？
- **食い違っている点** は何か？（例: ユニコは「革命的」と言っているが、Redditでは「セキュリティが穴だらけ」と批判）

### レンズ2: 情報ギャップ
- 誰も書いていないが、読者が知りたいはずの情報は何か？
- 技術解説はあるが、ビジネス活用の具体例が不足していないか？

### レンズ3: ビジネスインパクト（AIコンサルタント視点）
- 実現可能性: 今すぐ企業で使えるか？（1-10）
- ROI: 導入でどんな効果が期待できるか？
- 既存ツールとの親和性: n8n/Google Cloud等との相性
- リスク: セキュリティ、コスト、ベンダーロックイン

7. 分析結果をまとめ、**記事の推奨切り口**を1-2文で定義する。

---

## Phase 3: ファクトチェック

8. Phase 2の分析結果を検証する:
- 裏付けのない主張がないか？
- 出典のないまま断言している箇所はないか？
- ポジティブ/ネガティブのバランスは取れているか？
- RAGの古い情報を最新の事実として扱っていないか？

9. 検証に失敗した主張は記事から除外するか、「未検証」と明記する。

---

## Phase 4: 執筆

10. 以下の構成で10,000字のブログ記事をMarkdownで執筆する:

### 構成
| セクション | 文字数 | 内容 |
|-----------|--------|------|
| フック | 800字 | 今何が起きているか。エピソードや数字で掴む |
| What（これは何か） | 2,000字 | 技術の核心を噛み砕いて説明 |
| So What（なぜ重要か） | 3,000字 | ビジネスへの影響。ディスクレパンシーを核に。ユースケース複数 |
| Now What（どうすべきか） | 3,000字 | 読者の明日からのアクション。ステップバイステップ |
| 結び | 1,200字 | 展望と前向きなメッセージ |

### 文体ルール
- ペルソナ: AIコンサルタント（MORODAS）
- 一人称: 「僕」
- トーン: 論理的・明快、かつ語りかけるスタイル
- 1行30-40文字、句点で改行、2-3行ごとに空行
- 事実には出典URLを付記する
- ハルシネーション（裏付けのない主張）は絶対禁止

### 禁止事項
- 「いかがでしたでしょうか？」
- 「〜について解説します」のような教科書的導入
- 特定個人のブログの丸写し
- 「要約すると」「まとめると」

---

## Phase 5: 出力＆レビュー

11. 完成した記事を以下のパスに保存する:
```
/Users/kazuaki/俺の魂/morodas-os-init/docs/blog/{{テーマのslug}}.md
```

12. `notify_user` で以下を報告する:
- 記事のパス
- 使用した情報源の一覧（RAG何件 + 外部何件）
- 記事の切り口（Phase 2で定義したもの）
- 文字数

---

## コスト管理ルール

- **RAG検索**: Phase 1a でのみ実行（最大2回: search + ask）
- **外部ソース**: Phase 1b でのみ実行（1回: 全ソース一括）
- **通常チャット**: RAGも外部ソースも叩かない
- **追加調査が必要な場合**: ユーザーに確認してから追加実行する
